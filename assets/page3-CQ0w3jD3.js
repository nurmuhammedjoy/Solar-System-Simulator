import"./modulepreload-polyfill-B5Qt9EMX.js";import{a as L,i as _,h as A,S as N,P as q,W as X,C as Y,O as K,A as U,D as $,R as J,B as D,F as S,b as Q,c as Z,T as ee,I as te,M as E,d as g,V as P,G as R,j as ne,L as oe,k as ae,e as ie,g as re}from"./CSS2DRenderer-DFlZqI6D.js";function se({rimHex:e=35071,facingHex:t=0}={}){const o={color1:{value:new L(e)},color2:{value:new L(t)},fresnelBias:{value:.1},fresnelScale:{value:1},fresnelPower:{value:4}},n=`
  uniform float fresnelBias;
  uniform float fresnelScale;
  uniform float fresnelPower;
  
  varying float vReflectionFactor;
  
  void main() {
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
  
    vec3 worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );
  
    vec3 I = worldPosition.xyz - cameraPosition;
  
    vReflectionFactor = fresnelBias + fresnelScale * pow( 1.0 + dot( normalize( I ), worldNormal ), fresnelPower );
  
    gl_Position = projectionMatrix * mvPosition;
  }
  `,a=`
  uniform vec3 color1;
  uniform vec3 color2;
  
  varying float vReflectionFactor;
  
  void main() {
    float f = clamp( vReflectionFactor, 0.0, 1.0 );
    gl_FragColor = vec4(mix(color2, color1, vec3(f)), f);
  }
  `;return new _({uniforms:o,vertexShader:n,fragmentShader:a,transparent:!0,blending:A})}const le=new URLSearchParams(window.location.search);le.get("planet");const s=document.createElement("div");s.style.position="absolute";s.style.top="0";s.style.left="0";s.style.color="lime";s.style.fontFamily="monospace";s.style.background="rgba(0,0,0,0.5)";s.style.padding="5px";document.body.appendChild(s);let j=performance.now(),k=0;const w=new N,r=new q(60,window.innerWidth/window.innerHeight,.1,1e4);r.position.set(0,0,300);const b=new X({antialias:!0});b.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(b.domElement);const h=new Y;h.setSize(window.innerWidth,window.innerHeight);h.domElement.style.position="absolute";h.domElement.style.top="0";h.domElement.style.pointerEvents="none";document.body.appendChild(h.domElement);const C=new K(r,b.domElement);C.enableDamping=!0;C.dampingFactor=.05;w.add(new U(16777215,.03));const H=new $(16777215,.7);H.position.set(500,0,67);w.add(H);function ce({count:e=8e3,range:t=2e3,size:o=.7,sizeVariation:n=.5,colors:a=[16777215,16775620,13621468],twinkle:d=!0,animate:z=!0}={}){const u=new D,p=[],f=[],l=[],m=new L;for(let c=0;c<e;c++){const T=(Math.random()-.5)*t,y=(Math.random()-.5)*t,v=(Math.random()-.5)*t;p.push(T,y,v),f.push(o+Math.random()*n),m.setHex(a[Math.floor(Math.random()*a.length)]),l.push(m.r,m.g,m.b)}u.setAttribute("position",new S(p,3)),u.setAttribute("size",new S(f,1)),u.setAttribute("color",new S(l,3));const F=new Q({vertexColors:!0,size:o,transparent:!0,opacity:.9,depthWrite:!1}),x=new Z(u,F);if(w.add(x),d&&z){let c=function(){x.material.opacity=.7+Math.sin(Date.now()*.001)*.3,requestAnimationFrame(c)};new Float32Array(e).fill(1).map(()=>Math.random()*.5+.5),c()}}ce();const M={Earth:"/texture/8081_earthmap4k.jpg",earthNight:"/texture/8081_earthlights4k.jpg",earthCloudtxt:"texture/8081_earthhiresclouds4K.png",moonTxt:"texture/moonmap4k.jpg",moonBumptxt:"texture/07_moonbump4k.jpg"},de=new Map([["Earth",{title:"Earth",description:"Earth is the third planet from the Sun and the only astronomical object known to harbor life. This is enabled by Earth being an ocean world, the only one in the Solar System sustaining liquid surface water. Almost all of Earths water is contained in its global ocean, covering 70.8% of Earths crust. The remaining 29.2% of Earths crust is land, most of which is located in the form of continental landmasses within Earths land hemisphere."}],["Moon",{title:"Moon",description:"The Moon is Earths only natural satellite. It orbits around Earth at an average distance of 384399 km (238,854 mi about 30 times Earths diameter). The Moon is tidally locked to Earth in synchronous rotation. This means that its rotation period (lunar day) and its orbital period (lunar month) are the same (29.5 Earth days)"}],["Mercury",{title:"Mercury",description:"Mercury is the first planet from the Sun. It is a rocky planet with a trace atmosphere."}],["Venus",{title:"Venus",description:"Venus is the second planet from the Sun. It is a rocky planet with a dense, toxic atmosphere."}],["Mars",{title:"Mars",description:"Mars is the fourth planet from the Sun. Itâ€™s known as the Red Planet and may have once supported life."}]]),W=new J,B=[];let i;function G(e,t){const o=document.createElement("div");o.textContent=e,o.style.color="white";const n=new re(o);return n.position.copy(t),n}function me(){if(i)return;const e=new ee,t=new te(7,16),o=new E({map:e.load(M.Earth)}),n=new E({map:e.load(M.earthNight),blending:A,transparent:!0}),a=new E({map:e.load(M.earthCloudtxt),blending:A,transparent:!0}),d=new g(t,o);d.name="Earth";const z=new g(t.clone(),n),u=new g(t.clone(),a),p=new g(t.clone(),se());p.scale.setScalar(1.01),d.add(G("Earth",new P(-5,10,0))),B.push(d),i=new R,i.rotation.z=-23.4*Math.PI/180,i.add(d,z,u,p),w.add(i);const f=new R;i.add(f);const l=new g(new ne(2,32,32),new E({map:e.load(M.moonTxt),bumpMap:e.load(M.moonBumptxt),bumpScale:.5}));l.name="Moon",l.position.set(50,0,0),l.add(G("Moon",new P(0,3,0))),f.add(l),B.push(l);const m=[],F=100,x=90,c=200;for(let y=0;y<=c;y++){const v=y/c*Math.PI*2;m.push(F*Math.cos(v),0,x*Math.sin(v))}const T=new D().setAttribute("position",new S(m,3));f.add(new oe(T,new ae({color:16777215,linewidth:3,opacity:.1,transparent:!0})))}me();let I=null;function V(e,t){const o=new ie(e/window.innerWidth*2-1,-(t/window.innerHeight)*2+1);W.setFromCamera(o,r);const[n]=W.intersectObjects(B,!0);n?(he(n.object),clearTimeout(I)):(clearTimeout(I),I=setTimeout(()=>{document.getElementById("info-panel").style.display="none"},1e4))}function he(e){const t=e.name||e.parent?.name;if(!de.get(t))return;const n=new P;e.getWorldPosition(n);const a=new P().subVectors(r.position,n).normalize();r.position.copy(n.clone().add(a.multiplyScalar(40))),C.target.copy(n)}window.addEventListener("resize",()=>{r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),b.setSize(window.innerWidth,window.innerHeight),h.setSize(window.innerWidth,window.innerHeight)});window.addEventListener("click",e=>V(e.clientX,e.clientY));window.addEventListener("touchstart",e=>V(e.touches[0].clientX,e.touches[0].clientY));function O(){if(requestAnimationFrame(O),i){i.rotation.y+=1e-5;const t=i.getObjectByName("Moon");if(t){const o=Date.now()*5e-7;t.position.set(100*Math.cos(o),0,90*Math.sin(o))}}h.render(w,r),C.update(),b.render(w,r);const e=performance.now();k++,e-j>=1e3&&(s.textContent=`FPS: ${k}`,k=0,j=e)}O();
